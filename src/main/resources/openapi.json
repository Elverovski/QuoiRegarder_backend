{"openapi":"3.0.1","info":{"title":"OpenAPI definition","version":"v0"},"servers":[{"url":"http://localhost:8080","description":"Generated server url"}],"tags":[{"name":"Login","description":"Endpoints pour le login"},{"name":"Series","description":"Endpoints pour la gestion des series)"},{"name":"Rating","description":"Endpoints pour la gestion de ratings"},{"name":"Utilisateurs","description":"Endpoints pour la gestion des utilisateurs"}],"paths":{"/users/updateUser/{id}":{"put":{"tags":["Utilisateurs"],"summary":"Mettre à jour un utilisateur existant","description":"Modifie les informations d'un utilisateur specifique.","operationId":"updateUser","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}},"required":true},"responses":{"200":{"description":"Utilisateur mis à jour avec succès","content":{"*/*":{"schema":{"$ref":"#/components/schemas/User"}}}},"404":{"description":"Utilisateur non trouvé","content":{"*/*":{"schema":{"$ref":"#/components/schemas/User"}}}},"400":{"description":"Requête invalide","content":{"*/*":{"schema":{"$ref":"#/components/schemas/User"}}}}}}},"/users/history/{seriesId}":{"put":{"tags":["Utilisateurs"],"summary":"Marquer une série comme vue par l'utilisateur","description":"Permet d'ajouter une série à l'historique de l'utilisateur connecté.","operationId":"markSerieAsView","parameters":[{"name":"Authorization","in":"header","required":true,"schema":{"type":"string"}},{"name":"seriesId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"Série marquée comme vue avec succès","content":{"*/*":{"schema":{"type":"object"}}}},"401":{"description":"Utilisateur non authentifié","content":{"*/*":{"schema":{"type":"object"}}}},"404":{"description":"Série non trouvée","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/serie/updateSerie/{id}":{"put":{"tags":["Series"],"summary":"Mettre à jour une serie existante","description":"Permet de modifier les informations d'une série specifique.","operationId":"updateSerie","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Serie"}}},"required":true},"responses":{"200":{"description":"Serie mise à jour avec succès","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Serie"}}}},"404":{"description":"Serie non trouvée","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Serie"}}}}}}},"/ratings/serie/{id}/{scoreRate}":{"put":{"tags":["Rating"],"summary":"Mettre à jour un rating de série","description":"Permet à un utilisateur de modifier la note d'une série qu'il a été déjà évaluée.","operationId":"updateRateSerie","parameters":[{"name":"Authorization","in":"header","required":true,"schema":{"type":"string"}},{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"scoreRate","in":"path","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"Rating mise à jour avec succès","content":{"*/*":{"schema":{"type":"object"}}}},"401":{"description":"Utilisateur non authentifié","content":{"*/*":{"schema":{"type":"object"}}}},"404":{"description":"Rating non trouvée","content":{"*/*":{"schema":{"type":"object"}}}}}},"post":{"tags":["Rating"],"summary":"Ajouter un rating à une série","description":"Permet à un utilisateur de donner une note à une série specifique.","operationId":"rateSerie","parameters":[{"name":"Authorization","in":"header","required":true,"schema":{"type":"string"}},{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"scoreRate","in":"path","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"Rating ajoutée avec succès","content":{"*/*":{"schema":{"type":"object"}}}},"401":{"description":"Utilisateur non authentifié","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/users/createUser":{"post":{"tags":["Utilisateurs"],"summary":"Créer un nouvel utilisateur","description":"Ajoute un nouvel utilisateur.","operationId":"createUser","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}},"required":true},"responses":{"201":{"description":"Utilisateur créé avec succès","content":{"*/*":{"schema":{"$ref":"#/components/schemas/User"}}}},"400":{"description":"Requête invalide","content":{"*/*":{"schema":{"$ref":"#/components/schemas/User"}}}}}}},"/serie/createSerie":{"post":{"tags":["Series"],"summary":"Créer une nouvelle serie","description":"Ajoute une nouvelle serie.","operationId":"createSerie","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Serie"}}},"required":true},"responses":{"201":{"description":"Serie créée avec succès","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Serie"}}}}}}},"/ratings/episode/{idEpisode}/{score}":{"post":{"tags":["Rating"],"summary":"Ajouter un rating à un épisode","description":"Permet à un utilisateur de donner une note a un épisode spécifique.","operationId":"rateEpisode","parameters":[{"name":"Authorization","in":"header","required":true,"schema":{"type":"string"}},{"name":"idEpisode","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"score","in":"path","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"Rating ajoutée avec succès","content":{"*/*":{"schema":{"type":"object"}}}},"401":{"description":"Utilisateur non authentifié","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/auth/login":{"post":{"tags":["Login"],"summary":"Login","description":"permet a l'utilisateur d'avoir le contenu de la page. L'utilisateur doit être authentifié pour accéder à cette ressource","operationId":"login","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}},"required":true},"responses":{"200":{"description":"Connexion réussie","content":{"*/*":{"schema":{"type":"object"}}}},"401":{"description":"Email ou mot de passe incorrect","content":{"*/*":{"schema":{"type":"object"}}}},"400":{"description":"Requête invalide ","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/users/{id}":{"get":{"tags":["Utilisateurs"],"summary":"Obtenir un utilisateur par ID","description":"Retourne les informations d'un utilisateur spécifique","operationId":"getUserById","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"Utilisateur trouvée","content":{"*/*":{"schema":{"$ref":"#/components/schemas/User"}}}},"404":{"description":"Utilisateur non trouvé","content":{"*/*":{"schema":{"$ref":"#/components/schemas/User"}}}}}}},"/users/search":{"get":{"tags":["Utilisateurs"],"summary":"Rechercher un utilisateur par nom","description":"Permet de retrouver un utilisateur par son nom.","operationId":"getUserByName","parameters":[{"name":"name","in":"query","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Utilisateur trouvée","content":{"*/*":{"schema":{"$ref":"#/components/schemas/User"}}}},"404":{"description":"Utilisateur non trouvé","content":{"*/*":{"schema":{"$ref":"#/components/schemas/User"}}}}}}},"/users/recommendations":{"get":{"tags":["Utilisateurs"],"summary":"Obtenir des recommandations de series","description":"Retourne une liste de series recommandées pour l'utilisateur ","operationId":"getRecommendation","parameters":[{"name":"Authorization","in":"header","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Recommandations récupérées avec succès","content":{"*/*":{"schema":{"type":"object"}}}},"401":{"description":"Utilisateur non authentifié","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/users/history":{"get":{"tags":["Utilisateurs"],"summary":"Obtenir l'historique de visionnage d'un utilisateur","description":"Retourne la liste des séries que l'utilisateur a déjà regardées. ","operationId":"getHistoryById","parameters":[{"name":"Authorization","in":"header","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Historique récupéré avec succès","content":{"*/*":{"schema":{"type":"object"}}}},"401":{"description":"Utilisateur non authentifié","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/users/getAllUsers":{"get":{"tags":["Utilisateurs"],"summary":"Obtenir la liste de tous les utilisateurs","description":"Retourne tous les utilisateurs existants","operationId":"getAllUsers","parameters":[{"name":"Authorization","in":"header","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Liste des utilisateurs récupérée avec succès","content":{"*/*":{"schema":{"type":"object"}}}},"401":{"description":"Utilisateur non authentifié","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/serie/{id}":{"get":{"tags":["Series"],"summary":"Obtenir une serie par son ID","description":"Retourne les informations d'une serie spécifique.L'utilisateur doit être authentifié pour accéder à cette ressource.","operationId":"getSerieById","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"Authorization","in":"header","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Serie trouvée","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Serie"}}}},"404":{"description":"Serie non trouvée","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Serie"}}}},"401":{"description":"Utilisateur non authentifié","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Serie"}}}}}}},"/serie/searchSerie":{"get":{"tags":["Series"],"summary":"Rechercher des series par genre ou nombre d'épisodes","description":"Permet de filtrer les series par genre et/ou par nombre d'épisodes.","operationId":"searchSerie","parameters":[{"name":"genre","in":"query","required":false,"schema":{"type":"string"}},{"name":"nbEpisodes","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":0}},{"name":"Authorization","in":"header","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Résultats de la recherche retournés avec succès","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Serie"}}}}},"401":{"description":"Utilisateur non authentifié","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Serie"}}}}}}}},"/serie/getSerieTitre":{"get":{"tags":["Series"],"summary":"Rechercher une serie par son titre","description":"Permet de retrouver une serie par son nom.L'utilisateur doit être authentifié pour accéder à cette ressource.","operationId":"getSerieByTitre","parameters":[{"name":"name","in":"query","required":true,"schema":{"type":"string"}},{"name":"Authorization","in":"header","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Serie trouvée","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Serie"}}}},"404":{"description":"Serie non trouvée","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Serie"}}}},"401":{"description":"Utilisateur non authentifié","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Serie"}}}}}}},"/serie/getAllTendances":{"get":{"tags":["Series"],"summary":"Obtenir les series tendances","description":"Retourne la liste des series en tendance. L'utilisateur doit être authentifié pour accéder à cette ressource.","operationId":"getAllTendances","parameters":[{"name":"Authorization","in":"header","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Liste des series en tendance récupérée avec succès","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Serie"}}}}},"401":{"description":"Utilisateur non authentifié","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Serie"}}}}}}}},"/serie/getAllSeries":{"get":{"tags":["Series"],"summary":"Obtenir toutes les series","description":"Retourne la liste complete des series disponibles. L'utilisateur doit être authentifié pour accéder à cette ressource.","operationId":"getAllSeries","parameters":[{"name":"Authorization","in":"header","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Liste des series récupérée avec succès","content":{"*/*":{"schema":{"type":"object"}}}},"401":{"description":"Utilisateur non authentifié","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/ratings/serie/{id}":{"get":{"tags":["Rating"],"summary":"Obtenir la moyenne des ratings d'une série","description":"Retourne la moyenne des notes pour une série.","operationId":"getSerieAverage","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"Moyenne de la série récupérée avec succes","content":{"*/*":{"schema":{"type":"object"}}}},"404":{"description":"Série non trouvée","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/ratings/getAllRates":{"get":{"tags":["Rating"],"summary":"Obtenir tous les ratings existants.","description":"Permet à l'utilisateur d'obtenir le contenu complet des ratings L'utilisateur doit être authentifié pour accéder à cette ressource.","operationId":"getAllRates","responses":{"200":{"description":"Liste des ratings recuperée avec sucess","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Ratings"}}}}},"401":{"description":"Utilisateur non authentifié","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Ratings"}}}}}}}},"/ratings/episode/{id}":{"get":{"tags":["Rating"],"summary":"Obtenir la moyenne des ratings d'une épisode","description":"Retourne la moyenne des notes pour une épisode.","operationId":"getEpisodeAverage","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"Moyenne de l'épisode récupérée avec succes","content":{"*/*":{"schema":{"type":"object"}}}},"404":{"description":"Série non trouvée","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/users/deleteUser/{id}":{"delete":{"tags":["Utilisateurs"],"summary":"Supprimer un utilisateur","description":"Supprime un utilisateur existant.","operationId":"deleteUser","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"204":{"description":"Utilisateur supprimé avec succès"},"404":{"description":"Utilisateur non trouvé"}}}},"/serie/deleteSerie/{id}":{"delete":{"tags":["Series"],"summary":"Supprimer une serie","description":"Permet de supprimer une serie specifique.","operationId":"deleteSerie","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"204":{"description":"Serie supprimée avec succès"},"404":{"description":"Serie non trouvée"}}}}},"components":{"schemas":{"Serie":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"titre":{"type":"string"},"genre":{"type":"string"},"nbepisodes":{"type":"integer","format":"int32"},"note":{"type":"number","format":"double"}}},"User":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"nom":{"type":"string"},"prenom":{"type":"string"},"email":{"type":"string"},"genre":{"type":"string"},"password":{"type":"string"},"history":{"type":"array","items":{"$ref":"#/components/schemas/Serie"}}}},"Episode":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"title":{"type":"string"},"episodeNumber":{"type":"integer","format":"int32"},"seasonNumber":{"type":"integer","format":"int32"},"serieId":{"$ref":"#/components/schemas/Serie"}}},"Ratings":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"userId":{"$ref":"#/components/schemas/User"},"score":{"type":"integer","format":"int32"},"serie":{"$ref":"#/components/schemas/Serie"},"episode":{"$ref":"#/components/schemas/Episode"},"createdAt":{"type":"string","format":"date-time"}}}}}}